4.1 变量与运算符

目录

[toc]

---

# 一、变量
本质：变量在python中只是个名字

## 1.1 引入变量
**1.引入变量的原因**
避免重复去打很长的数据

```py
[1,2,3,4,5,6]*3+[1,2,3]+[1,2,3,4,5,6]

A*3+B+A
```

**2.引入变量的方法：**
   用赋值运算符 =

```py
A = [1,2,3,4,5,6]
B = [1,2,3]

A*3+B+A
```
注：读的时候从右往左。例如，将列表`[1，2，3]`赋值给变量`B`



## 1.2 变量命名

**1.总体原则**

  - 命名可读性要强。例如，上面的`A、B`可读性差，无意义
  - 英文要简洁地道。例如，`three_leaf_grass` 不好，应为`clover`

**2.具体规则**
1.字母、数字、下划线可以任意组合，但首位不能是数字

```py
a1 = '1'
_1 = '1'

1a = '1'    #这行是错误的
```
2.系统保留关键字，不能用在变量名中

```py
and = 1 
if = 2 
import = 3    #以上均是错误的
```
```py
type = 3
print(type)-->3    #虽不报错，但不建议

type = 3    #如果下面再使用类型函数type()就会出错
type(4)-->error    #本质：1(4)-->error

如果非得使用类这个意思，怎么办？
category = 3
type(4)-->int
```

3.变量名区分大小写
```py
a = 1
print(a)-->1
print(A)-->error
```
4.变量无类型限制
```py
a = 1
a = '1'
a = [1,2,3]
a = (1,2,3)
a = {1,2,3}
a = {'Q':'新月打击','W':'苍白之瀑'}
```



## 1.3变量的值类型、引用类型

本质：不可变、可变
勿过分强调变量类型，应关注其组内元素是否可变性
**1.不同数据类型的可变性**
整型 int
字符串 str 
元组 tuple-----是不可变的

```py
'python'[0]-->'p'    #可以访问
'python'[0] = '0'  error    #但不能改变组内元素
```

列表 list
字典 dict
集合 set------是可变的

**2.列表与元组的区别**
1.能否改变组内元素方面

```py
a = [1,2,3]
id(a) = 59570576    #每个变量在内存中都有个地址

a[0] = '1'
id(a) = 59570576    #列表是可变
```

```py
a = (1,2,3)
a[0] = '1' error     #元组是不可变

```
2.能否追加组内元素方面
```py
b = [1,2,3]
b.append(4)    #使用系统内置函数append()
print(b)-->[1,2,3,4]    #列表可以追加元素
```
```py
c =(1,2,3)
c.append(4) error    #元组不可追加元素
```
**思考题：**
列表list看起来功能更强大，为什么还要有元组tuple类型？

>因为编码最重要的是稳定性。简单的项目可以一个人写，但是复杂大型项目需要很多人共同写，这就涉及到代码调用。元组，能让别人不能随意修改你的代码，避免功能紊乱。
能用元组，就用元组；
要想动态改变一组元素，那用列表合适。

3.列表与元组混合时，能否改变组内元素方面


```py
a = (1,2,3,[1,2,4])    #二维数组
a[2]-->3
a[3]-->[1,2,4]
a[3][2]-->4

a = (1,2,3,[1,2,['a','b','c']])    #三维数组
a[3][2][1]-->'b'
```
```py
a = (1,2,3,[1,2,4])
a[2] = '3' error    #混合数组，元组元素不可变

a[3][2]='4'
print(a)-->(1,2,3,[1,2,'4'])    #混合数组，列表元素可变
```





# 二、运算符

运算符的两边要有空格
## 2.1 算数运算符

一共7个

```py
1 + 1 -->2
'hello'+'world'-->'helloworld'
3 - 1-->2

[1,2,3]*3-->[1,2,3,1,2,3,1,2,3,]
3**2-->9    #平方
3**4-->81    #4次方

3 / 2-->1.5
3 // 2-->1    #整除，求整
5 % 2-->1    #求余
```



## 2.2 赋值运算符

任何变量最终都要落实到赋值上
本质：是=与上述7种运算符的结合

```py
c = 1
c = c + 1
print(c)-->2
c += 1    #即 c = c + 1的简写
print(c)-->3

b = 2
a = 3
b += a
print(b)-->5
```

```py
b = 6
a = 4
b -= a
print(b)-->2
```

```py
b = 6
a = 4
b *= a
print(b)-->24
```

除此之外，还有除等 /=  、求余等 %=



## 2.3 比较运算符

比较运算符与算数运算符本质上相同，都是做运算，只是返回的结果不一样
**1.种类**
一共6种

```py
1 == 1 -->True    #值是否相等
1 > 1 -->False
1 >= 1 -->True
1 < 1 -->False
1 <= 1 -->True

a = 1
b = 2
a != b-->True    #是否不等于
```

**思考题：**

```py
b = 1
b += b >= 1    
print(b)-->?    #不难，但很综合

涉及到运算符的顺序：赋值运算符是最后的
b >= 1-->True
b += True--> 2  #b = b + True = b + 1   #int(True)-->1  2-1章节知识
```

>只有数字才能在python中做比较运算吗?

**2.能进行比较的其他数据类型**

字符串：

```py
'a' > 'b' -->False  两个字母还有大小？

ord('a')-->97
ord('b')-->98   #英文字母对应asc码，字母表顺序越靠前，asc码越小
```

```py
那多个字母呢？
'abc' < 'abd'-->True    #同位置，一一先后比较

注：ord('abc') error    #不是用所有字母的asc码之和作比较
```

列表：

```py
[1,2,3] < [2,3,4]-->True    #同位置，一一先后比较
```

元组：

```py
(1,2,3) < (1,3,2)-->True    #同位置，一一先后比较
```



## 2.4 逻辑运算符

**1.种类**
一共3种

```py
and    #且
or    #或
not    #非
```

**2.特点**
操作的数据类型和返回结果都是bool

```py
True and True-->True
True and False-->False

True or False-->True
False or False-->False

not True-->False
not False-->True
not not True-->True
```

**3.非bool类型的数据在参与逻辑运算时，向bool类型转化的规律**

```py
1 and 1-->1
'a' and 'b'-->'b'
'a' or 'b'-->'a'
not 'a'-->False
```

- int、float类型：
  0 被认为是False
  非0 被认为是True

```py
not 0.1-->False
```

- str类型
  空字符串 被认为是False
  非空字符串 被认为是True

```py
not ''-->True    #''是空字符串
not '0'-->False    # '0' 是非空字符串！
```

列表、元组、字典、集合同理。

**4.and、or的返回规律**

- 一般规律

```py
'a' and 'b'-->'b'
'' and 'b'-->''    #全真则真，一假则假
```

```py
[1] or []-->[1]    #本质：True or False-->True
[] or []-->[]   #一真则真，全假则假
```

- 前后都是True的特殊情况

```py
1 and 2-->2
2 and 1-->1    # and只有知道了第二个数后，才能得出最终结果

1 or 2-->1
2 or 1-->2    # or只要知道了第一个数是True后，就不看第二个数了。
#[计算机：我很懒的哈哈]
```



![Bill Gates_lazy person1](https://gcore.jsdelivr.net/gh/JerryZhengzzz/images@main/Python/Bill%20Gates_lazy%20person1.jpeg)



## 2.5 成员运算符

本质：menber
**1.种类**
一共两种

```py
in
not in
```

**2.特点**

- 一个元素是否在另一组元素里
- 返回值是bool

```py
a = 1
b in [1,2,3,4,5]-->True

a = 6
b in [1,2,3,4,5]-->False

a = 6
b not in [1,2,3,4,5]-->True
```

```py
b = 'h'
b in 'hello'-->True

b = 'h'
b in (1,2,3,4,5)-->False

b = 'h'
b in {1,2,3,4,5}-->False
```

对于字典

```py
b  = 'a'
b in {'c':1}-->False

b  = 1
b in {'c':1}-->False

b  = 'c'
b in {'c':1}-->True    #字典的成员运算只针对：key
```



## 2.6 身份运算符

本质：ID，即内存地址
**1.概念**

```py
is
not is
```

**2.特点**

  - 返回值是bool

```py
a = 1
b = 2
a is b-->False

a = 1
b = 1
a is b-->True
```

**3.身份运算符`is`与比较运算符`==`的区别**
  对于数字：

```py
a = 1
b = 1.0
a == b-->True    #取值相同
a is b-->False   #身份不同，即内存地址ID不同
```

对于元组、集合：

```py
c = (1,2,3)
d = (2,1,3)
c == d-->False    #取值不同
c is d-->False    #身份ID不同

c = {1,2,3}
d = {2,1,3}}
c == d-->True    #取值相同
c is d-->False    #身份ID不同
```

两个变量取值相同，但身份不一定相同。例如：整型int、集合set

**4.判断对象的三大特征**
变量（对象）三特征：值、身份、类型
英文：value、ID、type
判断：==、is、isinstance()

```py
a = 'hello'
type(a) == int-->False
type(a) == str-->True

不建议用函数type（）来判断变量类型，因为其无法判断变量的子类的类型。
那用什么呢？

用法1：
a = 'hello'
isinstance(a,str)-->True
isinstance(a,int)-->False

用法2：
isinstance(a,(int,str,float))-->True  #变量a的类型是否是任意一种 #后者形式是元组
isinstance(a,(int,float))-->False
```



## 2.7 位运算符

简单了解
**1.特点**
将数字当成二进制数，进行位运算
**2.种类**
一共6种

```py
&   按位与
|   按位或
^   按位异或
~   按位取反
<<  左移动
>>  右移动
```

```py
a = 2
b = 3
a & b-->2    #竖向且运算(and)

a = 2
b = 3
a | b-->3    #竖向或运算(or)
```



## 2.8 运算符优先级汇总

![运算符优先级31](https://gcore.jsdelivr.net/gh/JerryZhengzzz/images@main/Python/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A731.jpg)





# 三、表达式

expression

## 3.1 定义

运算符与操作数构成的序列
operator+operand
本质：操作员+被操作的对象

序列：内部有多个元素、元素之间有顺序

```py
1 + 1
1 + 2 * 3
a > b    #以上皆是表达式

a = 1 + 2 * 3    #也是表达式，因为=也是运算符，赋值运算符
d = a and b or c

d = int('i') + 2    #也是表达式，因为函数int()也是运算符
```

**思考题：**

```py
a = 1
b = 2
c = 3 
a + b * c--> ?  7    #优先级：* 在 + 之前

a or b and c--> ?  1 or 2 and 3-->3  错误
a or b and c--> ?  1 or 2 and 3-->1  正确   #优先级：and在or之前
```



## 3.2 优先级

解析器的编译顺序；默认从左到右

（1）有运算符优先级，就按照运算符优先级

```py
a = 1
b = 2
c = 3 
a or b and c-->1
```

（2）小括号是最高的优先级

```py
a = 1
b = 2
c = 3 
(a or b) and c-->3
(a or b) and (c +1)-->4    #两个小括号之间，就是平级关系
```

（3）特例
出现赋值运算符`=` 时，就从右往左

```py
a = 1
b = 2
c = a + b    #从右往左  将1+2的和，赋值给变量c
```

**思考题：**

```py
a = 1
b = 2
c = 2
not a or b + 2 == c
用小括号将上述表达式的执行顺序表达出来？

(not a) or ((b + 2) == c)-->False or False-->False  #算术运算符>比较运算符>逻辑运算符
```

小括号的目的：
辅助理解，非强制改变优先级的顺序



